<!DOCTYPE html>
<html>
<head>
  <title>주식 가격 정보</title>
  <style>
    h1{
        text-align: center;
    }
    table {
      border-collapse: collapse;
      width: 100%;
    }

    th, td {
      border: 1px solid black;
      padding: 8px;
      text-align: center;
    }
    #currentTime {
      position: fixed;
      font-size: 18px;
      top: 15px;
      right: 15px;
    }
    #remainingTime{
      text-align: center;
      font-size: 18px;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>오늘의 주식 가격</h1>

  <table id="stockTable">
    <tr>
      <th>종목</th>
      <th>가격</th>
      <th>변동</th>
      <th>변동율</th>
    </tr>
  </table>
  <div id="currentTime"></div>
  <div id="remainingTime"></div>
  <script>
    // 주가 정보를 가져와 테이블에 추가하는 함수
    function addStock(stock) {
      var table = document.getElementById("stockTable");
      var row = table.insertRow();

      var nameCell = row.insertCell();
      nameCell.innerHTML = stock.name;

      var priceCell = row.insertCell();
      priceCell.innerHTML = stock.price;

      var changeCell = row.insertCell();
      changeCell.innerHTML = stock.change;

      var percentChangeCell = row.insertCell();
      percentChangeCell.innerHTML = stock.percentChange;
    }

    // API 자리
    var stockData = [
      { name: "주식 A", price: "100,000", change: "+5,000", percentChange: "+5%" },
      { name: "주식 B", price: "50,000", change: "-2,000", percentChange: "-4%" },
      { name: "주식 C", price: "80,000", change: "+1,500", percentChange: "+2%" },
    ];

    // 주가 정보 테이블에 추가
    stockData.forEach(function(stock) {
      addStock(stock);
    });

    function showCurrentTime() {
      var currentTime = new Date().toLocaleTimeString();
      document.getElementById("currentTime").innerHTML = "현재 시각: " + currentTime;
    }
    setInterval(showCurrentTime, 1000);
    function showRemainingTime() {
      var currentTime = new Date();
      var targetTime = new Date();
      targetTime.setHours(12);
      targetTime.setMinutes(30);
      targetTime.setSeconds(0);
      if (currentTime > targetTime) {
        targetTime.setDate(targetTime.getDate() + 1); // 다음날로 설정
      }
      var timeDiff = targetTime - currentTime;

      var hours = Math.floor(timeDiff / (1000 * 60 * 60));
      var minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);

      var remainingTime = hours + "시간 " + minutes + "분 " + seconds + "초";
      document.getElementById("remainingTime").innerHTML = "개장까지 남은 시간: " + remainingTime;

      setTimeout(showRemainingTime, 1000); // 1초마다 갱신
    }
    showRemainingTime();
  </script>
</body>
</html>